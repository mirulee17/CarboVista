<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Biomass Analysis ‚Äì AOI Comparison</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Leaflet CSS -->
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Leaflet Draw CSS -->
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css"
    />

    <!-- Global Styles -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Base AOI Styles -->
    <link rel="stylesheet" href="css/aoi.css">

    <!-- AOI Compare Styles -->
    <link rel="stylesheet" href="css/aoi-compare.css">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet"
    />
</head>

<body class="app compare">

    <!-- ================= TOP BAR ================= -->
    <div class="topbar">
        <a href="index.html" class="back-btn">‚Üê Back</a>
        <h2>CarboVista</h2>

        <div class="view-switch">
            <a href="aoi.html" class="switch-btn">
                Single AOI
            </a>
            <a href="aoi-compare.html" class="switch-btn active">
                Compare AOI
            </a>
        </div>
    </div>

    <!-- ================= MAIN LAYOUT ================= -->
    <div class="container">

        <!-- ============ SIDEBAR ============ -->
        <aside class="sidebar">
            <h3>Analysis Panel</h3>

            <!-- LOCATION SEARCH -->
            <div class="location-panel">
                <h4>üìç Find Location</h4>

                <input
                    type="text"
                    id="locationSearch"
                    placeholder="e.g. Bangsar, Kuala Lumpur or 48000"
                    autocomplete="off"
                />

                <p class="hint">
                    Used to navigate the map only.<br>
                    Same AOI is applied to both time ranges.
                </p>
            </div>

            <!-- TIME COMPARISON -->
            <div class="time-compare">

                <!-- TIME A -->
                <div class="date-panel">
                    <div class="time-label">üóìÔ∏è TIME PERIOD A</div>

                    <label for="startDateA">Start date</label>
                    <input type="date" id="startDateA" min="2017-01-01" />

                    <label for="endDateA">End date</label>
                    <input type="date" id="endDateA" />
                </div>

                <!-- TIME B -->
                <div class="date-panel">
                    <div class="time-label">üóìÔ∏è TIME PERIOD B</div>

                    <label for="startDateB">Start date</label>
                    <input type="date" id="startDateB" min="2017-01-01" />

                    <label for="endDateB">End date</label>
                    <input type="date" id="endDateB" />
                </div>

            </div>

            <p class="hint">
                Each range: 30 days ‚Äì 12 months<br>
                Sentinel-2 available from 2017 onward
            </p>

            <!-- AOI ACTIONS -->
            <button id="drawBoxBtn" class="btn">
                Draw Bounding Box
            </button>

            <button id="runCompareBtn" class="btn run-compare" disabled>
                Run Comparison...
            </button>

            <!-- AOI INFO -->
            <!-- <div class="aoi-info">
                <h4>Selected AOI</h4>
                <p id="aoiText">No area selected</p>
            </div> -->
        </aside>

        <!-- ============ MAP (SINGLE) ============ -->
        <div id="map"></div>

    </div>

    <!-- ================= SCRIPTS ================= -->

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Leaflet Draw -->
    <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>

    <!-- Leaflet Point-in-Polygon -->
    <script src="https://unpkg.com/leaflet-pip@1.1.0/leaflet-pip.min.js"></script>

    <!-- Leaflet Geocoder -->
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

    

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-box">
            <div class="spinner"></div>
            <div id="loadingText" class="loading-text">
                Initialising comparison‚Ä¶
            </div>
        </div>
    </div>

    <!-- AOI Compare Logic -->
    <script src="js/compareAOI.js"></script>

</body>
</html>
